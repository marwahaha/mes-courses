(in /home/philou/Code/mes-courses.fr)
==  CreateItems: migrating ====================================================
-- create_table(:items)
   -> 0.0042s
==  CreateItems: migrated (0.0046s) ===========================================

==  CreateStores: migrating ===================================================
-- create_table(:stores)
   -> 0.0047s
==  CreateStores: migrated (0.0052s) ==========================================

==  CreateDishes: migrating ===================================================
-- create_table(:dishes)
   -> 0.0054s
==  CreateDishes: migrated (0.0058s) ==========================================

==  CreateDishesItems: migrating ==============================================
-- create_table(:dishes_items, {:id=>false})
   -> 0.0038s
==  CreateDishesItems: migrated (0.0045s) =====================================

==  CreateItemTypes: migrating ================================================
-- create_table(:item_types)
   -> 0.0057s
==  CreateItemTypes: migrated (0.0062s) =======================================

==  CreateItemSubTypes: migrating =============================================
-- create_table(:item_sub_types)
   -> 0.0062s
==  CreateItemSubTypes: migrated (0.0066s) ====================================

==  AddItemSubTypeToItem: migrating ===========================================
-- add_column(:items, :item_sub_type_id, :integer)
   -> 0.0021s
==  AddItemSubTypeToItem: migrated (0.0025s) ==================================

==  AddPricePhotoSummaryToItem: migrating =====================================
-- add_column(:items, :price, :decimal)
   -> 0.0029s
-- add_column(:items, :image, :string)
   -> 0.0017s
-- add_column(:items, :summary, :string)
   -> 0.0017s
==  AddPricePhotoSummaryToItem: migrated (0.0074s) ============================

==  CreateToDeleteItems: migrating ============================================
-- create_table(:to_delete_items, {:primary_key=>:item_id})
   -> 0.0025s
==  CreateToDeleteItems: migrated (0.0030s) ===================================

==  CreateVisitedUrls: migrating ==============================================
-- create_table(:visited_urls)
   -> 0.0043s
==  CreateVisitedUrls: migrated (0.0048s) =====================================

==  AddDataConstraints: migrating =============================================
-- change_column(:items, :name, :string, {:null=>false})
   -> 0.0345s
-- change_column(:stores, :url, :string, {:null=>false})
   -> 0.0214s
-- change_column(:dishes, :name, :string, {:null=>false})
   -> 0.0219s
-- change_column(:dishes_items, :dish_id, :integer, {:null=>false})
   -> 0.0141s
-- change_column(:dishes_items, :item_id, :integer, {:null=>false})
   -> 0.0141s
-- change_column(:item_types, :name, :string, {:null=>false})
   -> 0.0230s
-- change_column(:item_sub_types, :name, :string, {:null=>false})
   -> 0.1565s
-- change_column(:item_sub_types, :item_type_id, :integer, {:null=>false})
   -> 0.0269s
-- change_column(:items, :item_sub_type_id, :integer, {:null=>false})
   -> 0.0332s
-- change_column(:items, :price, :decimal, {:null=>false})
   -> 0.0353s
-- change_column(:visited_urls, :url, :string, {:null=>false})
   -> 0.0180s
-- add_index(:stores, [:url], {:unique=>true, :name=>"stores_url"})
   -> 0.0027s
-- add_index(:dishes, [:name], {:unique=>true, :name=>"dishes_name"})
   -> 0.0023s
-- add_index(:dishes_items, [:dish_id], {:unique=>false, :name=>"dishes_items_dish_id"})
   -> 0.0021s
-- add_index(:dishes_items, [:item_id], {:unique=>false, :name=>"dishes_items_item_id"})
   -> 0.0031s
-- add_index(:item_types, [:name], {:unique=>true, :name=>"item_types_name"})
   -> 0.0026s
-- add_index(:item_sub_types, [:name, :item_type_id], {:unique=>true, :name=>"item_sub_types_name_item_type_id"})
   -> 0.0023s
-- add_index(:items, [:name, :item_sub_type_id], {:unique=>true, :name=>"items_name_item_sub_type_id"})
   -> 0.0022s
-- add_index(:visited_urls, [:url], {:unique=>true, :name=>"visited_urls_url"})
   -> 0.0024s
==  AddDataConstraints: migrated (0.4263s) ====================================

==  ItemTypesToCategories: migrating ==========================================
-- rename_table(:item_sub_types, :item_categories)
   -> 0.0028s
-- rename_column(:items, :item_sub_type_id, :item_category_id)
   -> 0.0535s
-- rename_column(:item_categories, :item_type_id, :parent_id)
   -> 0.0357s
-- change_column(:item_categories, :parent_id, :integer, {:null=>true})
   -> 0.0341s
-- execute("INSERT INTO item_categories (name, created_at, updated_at)\n              SELECT name, created_at, updated_at FROM item_types")
   -> 0.0009s
-- execute("SELECT cat.id AS new, typ.id AS old FROM item_categories cat, item_types typ\n              WHERE cat.name = typ.name AND cat.parent_id is null")
   -> 0.0008s
-- drop_table("item_types")
   -> 0.0015s
==  ItemTypesToCategories: migrated (0.1320s) =================================

==  CreateModelStats: migrating ===============================================
-- create_table(:model_stats)
   -> 0.0050s
-- add_index(:model_stats, :name, {:unique=>true, :name=>"model_name_name_index"})
   -> 0.0023s
==  CreateModelStats: migrated (0.0081s) ======================================

==  AddRemoteIdToItem: migrating ==============================================
-- add_column(:items, :remote_id, :integer)
   -> 0.0022s
==  AddRemoteIdToItem: migrated (0.0026s) =====================================

==  CreateCarts: migrating ====================================================
-- create_table(:carts)
   -> 0.0037s
==  CreateCarts: migrated (0.0041s) ===========================================

==  CreateCartLines: migrating ================================================
-- create_table(:cart_lines)
   -> 0.0070s
-- add_index(:cart_lines, [:cart_id], {:unique=>false, :name=>"cart_lines_cart_id_index"})
   -> 0.0028s
-- add_index(:cart_lines, [:cart_id, :item_id], {:unique=>true, :name=>"cart_lines_cart_id_item_id_index"})
   -> 0.0041s
==  CreateCartLines: migrated (0.0155s) =======================================

==  InsertRootItemCategory: migrating =========================================
==  InsertRootItemCategory: migrated (0.0680s) ================================

==  AddRemoteIdIndexToItem: migrating =========================================
-- remove_index("items", {:name=>"items_name_item_sub_type_id"})
   -> 0.0023s
-- change_column("items", "remote_id", :integer, {:null=>false})
   -> 0.0450s
-- add_index("items", ["remote_id"], {:unique=>true, :name=>"items_remote_id_index"})
   -> 0.0032s
==  AddRemoteIdIndexToItem: migrated (0.0516s) ================================

